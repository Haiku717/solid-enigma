<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Heat Pump Calculator</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics Tracking Code -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y0L8T6CDES"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Y0L8T6CDES');  // Replace YOUR_TRACKING_ID with your Google Analytics tracking ID
  </script>
</head>
<body style="background: #f2f4f7; margin: 0; padding: 40px; font-family: 'Segoe UI', sans-serif;">

  <div style="max-width: 1000px; margin: 0 auto; padding: 40px; background: #fff; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.06); display: flex; flex-wrap: wrap; gap: 50px;">

    <!-- Form Section -->
    <div style="flex: 1 1 400px;">
      <h2 style="text-align: center; margin-bottom: 30px; color: #1f3f5b;">
        <i class="fas fa-ruler-combined" style="margin-right: 8px;"></i>Heat Pump Sizing Calculator
      </h2>

      <label style="display: block; margin-bottom: 20px;">
        <i class="fas fa-ruler-horizontal" style="margin-right: 8px; color: #007AC1;"></i> Room Length (m)
        <input type="number" id="length" step="0.1" style="width: 100%; padding: 12px; margin-top: 8px; border-radius: 10px; border: 1px solid #ccc;">
      </label>

      <label style="display: block; margin-bottom: 20px;">
        <i class="fas fa-ruler-horizontal" style="margin-right: 8px; color: #007AC1;"></i> Room Width (m)
        <input type="number" id="width" step="0.1" style="width: 100%; padding: 12px; margin-top: 8px; border-radius: 10px; border: 1px solid #ccc;">
      </label>

      <label style="display: block; margin-bottom: 20px;">
        <i class="fas fa-ruler-vertical" style="margin-right: 8px; color: #007AC1;"></i> Room Height (m)
        <input type="number" id="height" step="0.1" style="width: 100%; padding: 12px; margin-top: 8px; border-radius: 10px; border: 1px solid #ccc;">
      </label>

      <label style="display: block; margin-bottom: 20px;">
        <i class="fas fa-home" style="margin-right: 8px; color: #007AC1;"></i> House Type
        <select id="houseType" style="width: 100%; padding: 12px; margin-top: 8px; border-radius: 10px; border: 1px solid #ccc;">
          <option value="new">New house (2016+)</option>
          <option value="old">Old house or cold/damp</option>
        </select>
      </label>

      <label style="display: block; margin-bottom: 30px;">
        <i class="fas fa-thermometer-half" style="margin-right: 8px; color: #007AC1;"></i> Insulation Level
        <select id="insulation" style="width: 100%; padding: 12px; margin-top: 8px; border-radius: 10px; border: 1px solid #ccc;">
          <option value="good">Good</option>
          <option value="average">Average</option>
          <option value="poor">Poor</option>
        </select>
      </label>

      <button onclick="calculate()" style="width: 100%; padding: 14px 18px; background: #007AC1; color: white; font-size: 16px; font-weight: 600; border: none; border-radius: 12px; cursor: pointer; transition: background 0.3s;">
        <i class="fas fa-calculator" style="margin-right: 10px;"></i>Calculate
      </button>
    </div>

    <!-- Results Section -->
    <div id="result" style="flex: 1 1 400px; font-size: 16px; color: #333;">
      <h3 style="margin-bottom: 25px; color: #1f3f5b;">
        <i class="fas fa-chart-line" style="margin-right: 10px;"></i>Estimated Heating Requirements
      </h3>
    </div>
  </div>

  <script>
    function calculate() {
      const length = parseFloat(document.getElementById('length').value);
      const width = parseFloat(document.getElementById('width').value);
      const height = parseFloat(document.getElementById('height').value);
      const houseType = document.getElementById('houseType').value;
      const insulation = document.getElementById('insulation').value;

      if (isNaN(length) || isNaN(width) || isNaN(height)) {
        document.getElementById('result').innerHTML = '<p style="color: red;">Please enter valid room dimensions.</p>';
        return;
      }

      document.getElementById('result').innerHTML = '<p><i class="fas fa-spinner fa-spin"></i> Calculating...</p>';

      const volume = length * width * height;

      let heatingW = 50;
      if (houseType === 'new') {
        heatingW = insulation === 'good' ? 50 : insulation === 'average' ? 55 : 60;
      } else {
        heatingW = insulation === 'good' ? 55 : insulation === 'average' ? 65 : 70;
      }

      const heatingKW = (volume * heatingW / 1000).toFixed(2);

      // Send a custom event to Google Analytics on calculation
      gtag('event', 'calculate', {
        'event_category': 'calculator',
        'event_label': 'heat_pump_sizing',
        'value': heatingKW
      });

      const mitsubishiModels = [
        { model: "MSZ-AP25VGKD2", heatingKW: 3.2, coolingKW: 2.5 },
        { model: "MSZ-AP35VGKD2", heatingKW: 3.7, coolingKW: 3.5 },
        { model: "MSZ-AP50VGKD2", heatingKW: 6.0, coolingKW: 5.0 },
        { model: "MSZ-AP60VGKD2", heatingKW: 6.8, coolingKW: 6.0 },
        { model: "MSZ-AP71VGKD2", heatingKW: 8.0, coolingKW: 7.1 },
        { model: "MSZ-AP80VGKD2", heatingKW: 9.0, coolingKW: 8.0 },
        { model: "MSZ-AS90VGD", heatingKW: 10.3, coolingKW: 9.0 }
      ];

      const coraModels = [
        { model: "FTXM20UVMZ", heatingKW: 2.8, coolingKW: 2.0 },
        { model: "FTXM25UVMZ", heatingKW: 3.3, coolingKW: 2.5 },
        { model: "FTXM35UVMZ", heatingKW: 4.0, coolingKW: 3.5 },
        { model: "FTXM46UVMZ", heatingKW: 5.4, coolingKW: 4.6 },
        { model: "FTXM50UVMZ", heatingKW: 6.1, coolingKW: 5.0 },
        { model: "FTXM60UVMZ", heatingKW: 7.3, coolingKW: 6.0 },
        { model: "FTXM71UVMZ", heatingKW: 8.1, coolingKW: 7.1 },
        { model: "FTXM85PAVMA", heatingKW: 9.0, coolingKW: 8.5 },
        { model: "FTXM95PAVMA", heatingKW: 10.3, coolingKW: 9.4 }
      ];

      const fujitsuModels = [
        { model: "ASTH07KNCA", heatingKW: 2.5, coolingKW: 2.1 },
        { model: "ASTH09KNCA", heatingKW: 3.2, coolingKW: 2.5 },
        { model: "ASTH12KNCA", heatingKW: 4.0, coolingKW: 3.5 },
        { model: "ASTH14KNCA", heatingKW: 4.7, coolingKW: 4.2 },
        { model: "ASTH18KNTA", heatingKW: 5.2, coolingKW: 4.8 },
        { model: "ASTH22KNTA", heatingKW: 6.5, coolingKW: 6.0 },
        { model: "ASTH24KNTA", heatingKW: 8.0, coolingKW: 7.0 },
        { model: "ASTH30KNTA", heatingKW: 9.0, coolingKW: 8.0 },
        { model: "ASTH34KNTA", heatingKW: 10.3, coolingKW: 9.4 }
      ];

      const firstMitsubishi = mitsubishiModels.find(model => model.heatingKW >= heatingKW);
      const firstCora = coraModels.find(model => model.heatingKW >= heatingKW);
      const firstFujitsu = fujitsuModels.find(model => model.heatingKW >= heatingKW);

      let recommendations = '';

      function addRecommendation(modelObj, brand) {
        recommendations += `
          <details style="background: #f9f9f9; padding: 12px 18px; border-radius: 10px; margin-bottom: 20px;">
            <summary style="cursor: pointer; font-weight: 600; font-size: 16px;">
              <i class="fas fa-snowflake" style="margin-right: 10px; color: #007AC1;"></i>${modelObj.model} <span style="color: #555;">(${brand})</span>
            </summary>
            <p style="margin-top: 10px; padding-left: 10px;">
              Heating Capacity: ${modelObj.heatingKW} kW <br>
              Cooling Capacity: ${modelObj.coolingKW} kW <br>
              <a href="#" style="color: #007AC1;">View Product</a>
            </p>
          </details>
        `;
      }

      if (firstMitsubishi) addRecommendation(firstMitsubishi, "Mitsubishi Electric");
      if (firstCora) addRecommendation(firstCora, "Daikin Cora");
      if (firstFujitsu) addRecommendation(firstFujitsu, "Fujitsu");

      if (!firstMitsubishi && !firstCora && !firstFujitsu) {
        recommendations = `<p style="color: red; font-weight: bold;">Your heating requirements exceed the available products listed here. Please contact us for a tailored solution, including ducted systems and larger capacity units.</p>`;
      }

      document.getElementById('result').innerHTML = `
        <p><strong><i class="fas fa-cube"></i> Room Volume:</strong> ${volume.toFixed(2)} mÂ³</p>
        <p><strong><i class="fas fa-fire"></i> Heating Capacity Required:</strong> ${heatingKW} kW</p>
        <h4 style="margin-top: 25px;"><i class="fas fa-thumbs-up"></i> Recommended Models</h4>
        ${recommendations}
        <p style="margin-top: 30px; color: #666;"><i class="fas fa-envelope-open-text"></i> Have any questions or want a quote? Use the adjacent form to get in touch, we're here to help!</p>
      `;
    }
  </script>
</body>
</html>
