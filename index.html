<div style="max-width: 900px; margin: auto; padding: 20px; background: #f9f9f9; border-radius: 12px; font-family: sans-serif; font-size: 15px; line-height: 1.6; display: flex; justify-content: space-between;">
  <!-- Form Section -->
  <div style="flex: 1; padding-right: 20px;">
    <h3 style="text-align: center; margin-bottom: 20px;">Heat Pump Sizing Calculator</h3>
    
    <label>Length (m):<br>
      <input type="number" id="length" step="0.1" style="width: 100%; padding: 8px; margin-bottom: 12px;">
    </label>

    <label>Width (m):<br>
      <input type="number" id="width" step="0.1" style="width: 100%; padding: 8px; margin-bottom: 12px;">
    </label>

    <label>Height (m):<br>
      <input type="number" id="height" step="0.1" style="width: 100%; padding: 8px; margin-bottom: 12px;">
    </label>

    <label>House Type:<br>
      <select id="houseType" style="width: 100%; padding: 8px; margin-bottom: 12px;">
        <option value="new">New house (2016+)</option>
        <option value="old">Old house, cold/damp</option>
      </select>
    </label>

    <label>Insulation Level:<br>
      <select id="insulation" style="width: 100%; padding: 8px; margin-bottom: 12px;">
        <option value="good">Good</option>
        <option value="average">Average</option>
        <option value="poor">Poor</option>
      </select>
    </label>

    <button onclick="calculate()" style="margin-top: 10px; width: 100%; padding: 10px; background: #007AC1; color: white; border: none; border-radius: 6px;">
      Calculate
    </button>
  </div>

  <!-- Results Section -->
  <div id="result" style="flex: 1; padding-left: 20px; text-align: left; font-size: 16px; border-left: 2px solid #ddd; padding-top: 20px;">
    <h4>Estimated Heating Requirements</h4>
    <!-- Results will populate here -->
  </div>
</div>

<script>
  function calculate() {
    const length = parseFloat(document.getElementById('length').value);
    const width = parseFloat(document.getElementById('width').value);
    const height = parseFloat(document.getElementById('height').value);
    const houseType = document.getElementById('houseType').value;
    const insulation = document.getElementById('insulation').value;

    if (isNaN(length) || isNaN(width) || isNaN(height)) {
      document.getElementById('result').innerHTML = '<p style="color: red;">Please enter valid room dimensions.</p>';
      return;
    }

    const volume = length * width * height;

    let heatingW = 50;
    if (houseType === 'new') {
      heatingW = insulation === 'good' ? 50 : insulation === 'average' ? 55 : 60;
    } else {
      heatingW = insulation === 'good' ? 55 : insulation === 'average' ? 65 : 70;
    }

    const heatingKW = (volume * heatingW / 1000).toFixed(2);

    const mitsubishiModels = [
      { model: "MSZ-AP25VGKD2", heatingKW: 3.2 },
      { model: "MSZ-AP35VGKD2", heatingKW: 3.7 },
      { model: "MSZ-AP50VGKD2", heatingKW: 6.0 },
      { model: "MSZ-AP60VGKD2", heatingKW: 6.8 },
      { model: "MSZ-AP71VGKD2", heatingKW: 8.0 },
      { model: "MSZ-AP80VGKD2", heatingKW: 9.0 },
      { model: "MSZ-AS90VGD", heatingKW: 10.3 }
    ];

    const coraModels = [
      { model: "FTXM20UVMZ", heatingKW: 2.8 },
      { model: "FTXM25UVMZ", heatingKW: 3.3 },
      { model: "FTXM35UVMZ", heatingKW: 4.0 },
      { model: "FTXM46UVMZ", heatingKW: 5.4 },
      { model: "FTXM50UVMZ", heatingKW: 6.1 },
      { model: "FTXM60UVMZ", heatingKW: 7.3 },
      { model: "FTXM71UVMZ", heatingKW: 8.1 },
      { model: "FTXM85PAVMA", heatingKW: 9.0 },
      { model: "FTXM95PAVMA", heatingKW: 10.3 }
    ];

    const firstMitsubishi = mitsubishiModels.find(model => model.heatingKW >= heatingKW);
    const firstCora = coraModels.find(model => model.heatingKW >= heatingKW);

    let recommendations = '';
    if (firstMitsubishi) {
      recommendations += `
        <details style="background: #eee; padding: 12px; border-radius: 6px; margin-bottom: 15px;">
          <summary style="cursor: pointer; font-weight: bold;">${firstMitsubishi.model}</summary>
          <p style="margin-top: 10px;">Heating: ${firstMitsubishi.heatingKW} kW <br> Suitable for your space. <br><a href="#">View Product</a></p>
        </details>
      `;
    }
    if (firstCora) {
      recommendations += `
        <details style="background: #eee; padding: 12px; border-radius: 6px; margin-bottom: 15px;">
          <summary style="cursor: pointer; font-weight: bold;">${firstCora.model}</summary>
          <p style="margin-top: 10px;">Heating: ${firstCora.heatingKW} kW <br> Suitable for your space. <br><a href="#">View Product</a></p>
        </details>
      `;
    }

    document.getElementById('result').innerHTML = `
      <p><strong>Room Volume:</strong> ${volume.toFixed(2)} mÂ³</p>
      <p><strong>Heating:</strong> ${heatingKW} kW</p>

      <h4 style="margin-top: 25px;">Recommended Models</h4>
      ${recommendations}

      <h4 style="margin-top: 25px;">If you have any questions or would like a quote, <a href="https://chillair.co.nz/#contact" style="color: #007AC1; text-decoration: none; font-weight: bold;">click here</a>.</h4>
    `;
  }
</script>
