<div style="max-width: 900px; margin: auto; padding: 20px; background: #f4f8fa; border-radius: 12px; font-family: 'Segoe UI', sans-serif; font-size: 15px; line-height: 1.6; display: flex; justify-content: space-between; box-shadow: 0 2px 8px rgba(0,0,0,0.1); color: #333;">
  <!-- Calculator Form -->
  <div style="flex: 1; padding-right: 20px;">
    <h3 style="text-align: center; margin-bottom: 20px; color: #007AC1;">Heat Pump Sizing Calculator</h3>

    <label>Length (m):<br>
      <input type="number" id="length" step="0.1" style="width: 100%; padding: 8px; margin-bottom: 12px; border-radius: 6px; border: 1px solid #ccc;">
    </label>

    <label>Width (m):<br>
      <input type="number" id="width" step="0.1" style="width: 100%; padding: 8px; margin-bottom: 12px; border-radius: 6px; border: 1px solid #ccc;">
    </label>

    <label>Height (m):<br>
      <input type="number" id="height" step="0.1" style="width: 100%; padding: 8px; margin-bottom: 12px; border-radius: 6px; border: 1px solid #ccc;">
    </label>

    <label>House Type:<br>
      <select id="houseType" style="width: 100%; padding: 8px; margin-bottom: 12px; border-radius: 6px; border: 1px solid #ccc;">
        <option value="new">New house (2016+)</option>
        <option value="old">Old house, cold/damp</option>
      </select>
    </label>

    <label>Insulation Level:<br>
      <select id="insulation" style="width: 100%; padding: 8px; margin-bottom: 12px; border-radius: 6px; border: 1px solid #ccc;">
        <option value="good">Good</option>
        <option value="average">Average</option>
        <option value="poor">Poor</option>
      </select>
    </label>

    <button onclick="calculate()" style="margin-top: 10px; width: 100%; padding: 10px; background: #007AC1; color: white; border: none; border-radius: 6px; font-weight: bold;">
      Calculate
    </button>
  </div>

  <!-- Results + Contact Link -->
  <div style="flex: 1; padding-left: 20px; border-left: 2px solid #ddd;">
    <div id="result" style="font-size: 16px; padding-top: 20px;"></div>

    <!-- Redirect Button to Contact -->
    <div id="quoteButton" style="margin-top: 30px; display: none;">
      <a href="https://chillair.co.nz/#contact" style="display: inline-block; padding: 12px 20px; background: #007AC1; color: white; text-decoration: none; border-radius: 6px; font-weight: bold;">
        Contact Us for a Quote
      </a>
    </div>
  </div>
</div>

<script>
function calculate() {
  const length = parseFloat(document.getElementById('length').value);
  const width = parseFloat(document.getElementById('width').value);
  const height = parseFloat(document.getElementById('height').value);
  const houseType = document.getElementById('houseType').value;
  const insulation = document.getElementById('insulation').value;

  if (isNaN(length) || isNaN(width) || isNaN(height)) {
    document.getElementById('result').innerHTML = '<p style="color: red;">Please enter valid room dimensions.</p>';
    document.getElementById('quoteButton').style.display = 'none';
    return;
  }

  const volume = length * width * height;

  let heatingW = 50;
  let coolingW = 45;

  if (houseType === 'new') {
    heatingW = insulation === 'good' ? 50 : insulation === 'average' ? 55 : 60;
    coolingW = insulation === 'good' ? 45 : insulation === 'average' ? 50 : 55;
  } else {
    heatingW = insulation === 'good' ? 55 : insulation === 'average' ? 65 : 70;
    coolingW = insulation === 'good' ? 45 : insulation === 'average' ? 55 : 60;
  }

  const heatingKW = (volume * heatingW / 1000).toFixed(2);
  const coolingKW = (volume * coolingW / 1000).toFixed(2);

  document.getElementById('result').innerHTML = `
    <h4 style="color: #007AC1;">Estimated Heating and Cooling Requirements</h4>
    <p><strong>Heating:</strong> ${heatingKW} kW</p>
    <p><strong>Cooling:</strong> ${coolingKW} kW</p>

    <h4 style="margin-top: 25px; color: #007AC1;">Recommended Models</h4>
    <p>Daikin Standard 4.6kW or Mitsubishi Electric AP42</p>
  `;

  document.getElementById('quoteButton').style.display = 'block';
}
</script>
